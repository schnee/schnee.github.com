<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
        <title>schnee</title>
        <description>schnee - Brent Schneeman</description>
        <link>http://schnee.github.io</link>
        <link>http://schnee.github.io</link>
        <lastBuildDate>2015-06-16T16:19:50-06:00</lastBuildDate>
        <pubDate>2015-06-16T16:19:50-06:00</pubDate>
        <ttl>1800</ttl>


        <item>
                <title>CSSS Week Two</title>
                <description>&lt;p&gt;&lt;img src=&quot;/figs/double-helix.png&quot; alt=&quot;double-helix&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The tempo of the weeks looks a bit like: four days of lecture / project work at St. John’s College in Santa Fe and one day (Friday) as the Santa Fe Institute. The grounds of both are beautiful, which is a reflection of Santa Fe in general.&lt;/p&gt;

&lt;p&gt;For fun, I suggested a field trip to the Rio Grande Gorge Bridge, outside of Taos. Primarily because it is a beautiful structure over a very impressive gorge, but also because it just sort of “appears” - the landscape during the approach gives scant clue to the magnitude of the spectacle. I drove my group (“Team Brent”) and kept quite - I could hear the approach-disappointment turn into awe upon arrival. Mission Accomplished. We took the “High Road to Taos” out of Santa Fe and saw a lot of historic and beautiful churches and other scenery. Spent a bit of time at the Taos Pueblo and spent a lot of time talking to the other participants. One woman works at the Catholic University in Spain and more-or-less reports directly to the Vatican. I’m going to get drinks with her (and others) and chat about Pope Francis.&lt;/p&gt;

&lt;p&gt;We’ve exhausted Non-Linear Dynamics and Statistics. Bayesian? The instructor is not a fan. We didn’t spend too much time on concept like mean and median, no, we did a lot of kernel estimation and really sophisticated curve fitting. That was cool, but everyone wanted a few more real-world examples.&lt;/p&gt;

&lt;p&gt;I learned something about the Ising model. It addresses phase transitions in magnets, and how the dipole “spins” (“up”, “down”) all need to be aligned to “get magnetism”. The cool think is that the model only considers nearest neighbor interactions of the dipoles, yet somehow models an entire structure (the relationship between farthest neighbors comes out of the model). There is a boat-load of math and theory around this. I’m sort of wondering what will happen if I model a marketplace with Ising techniques: “rented” and “not rented” instead of “up” and “down”. Then, will a marketplace experience a phase transition over time? If so, why? And how can we use that to understand our marketplace dynamics (e.g. what’s different in Breckenridge during winter and summer, or what’s different between Breckenridge and Los Angeles?). Might not be at all useful (in fact, we were warned that while this is great for Physics, and works for things like flocking birds, it might not be so cool in other fields). If it doesn’t work out, at a minimum, I’ll have at least learned something new.&lt;/p&gt;

&lt;p&gt;One thing of likely probable use is solving the bipartite graph problem via reduction to “max flow” algorithms. What is a bipartite graph? Well, here’s an example: assume you have a set of people in one partition, and a set of people in another partition, and there exists a series of (possibly sparse) edges between people in each partition. Think “matchmaking” and “match.com” in a simple heterosexual case - men like certain women; women like certain men. How can we make a match between the maximum number? This is very much like travelers and vacation rentals. During a specific “stay vector” (starting date and duration - position (in time) and magnitude), lots of unbooked properties likely match lots of (potentially filtered) traveler search requests. We can possibly use max flow to return search results that, if selected, would maximize the utilization of the properties. We can’t guarantee an optimal selection on a per-traveler basis, but we could at least provide a bias.&lt;/p&gt;

&lt;p&gt;And now to the header image. One of the instructors (Sander Bias, who also first introduced the Ising Model) talked a bit about the coupling between “wonder is the seed of knowledge” and “knowledge is the seed of technology”. We wonder, observe, gather info, and make, but in two related loops. The top loop looks like “science” and the bottom like “engineering”, and neither is dominant - we can’t wonder about things we can’t see: for example, the telescope opened all sorts of wondering (and in a more current topic, the parallel computing technology has opened many new fields in pure mathematics). Of course the science helix feeds the technology one, too and sometimes it is hard to see the coupling between. Cool stuff to think about. The Complex Systems Summer School is very indexed on Science. One way for the Engineering loop to be better represented would be for more representation from the SFI Business Network (people like me). I noticed that during our selection of projects one of the common themes was “hey, I have &lt;em&gt;this&lt;/em&gt; dataset, let’s analyze it”. Should Industry come to the CSSS not necessarily as student-participants but as dataset-stewards (where the datasets are interesting for science but not for competitive analysis), then the double helix could be better served.&lt;/p&gt;

&lt;p&gt;This is not an attempt by me to get HomeAway to send me to Santa Fe every June to act as a data-steward. Honestly.&lt;/p&gt;
</description>
                <link>http://schnee.github.io/2015/06/16/csss-week-two</link>
                <guid>http://schnee.github.io/2015/06/16/csss-week-two</guid>
                <pubDate>2015-06-16T14:38:29-06:00</pubDate>
        </item>

        <item>
                <title>CSSS Week One</title>
                <description>&lt;p&gt;&lt;img src=&quot;/figs/2015-06-11-csss-week-one/csss-geo.png&quot; alt=&quot;Geographies&quot; /&gt;
That strange attractor is the Santa Fe Institute. Each of those arcs represent the Great Circle route for all 66 participants. We come from all over. And yes, the image was &lt;a href=&quot;https://github.com/schnee/csss-geo&quot;&gt;done in R&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The first week ends tomorrow; we’ve spent all of our time at St. John’s College but tomorrow, we go to SFI. This week was mostly Physics, Phase Transitions and Non-Linear Dynamics. While I learned a lot in every course, the third lecture on Non-Linear Dynamics completely lost me. It was “delay coordinate embedding” and the “Takens Theorem” - mechanisms to analyze non-linear time series. I was pretty iffy before embedding and that just tipped me into a non-linear phase state of pure confusion.&lt;/p&gt;

&lt;p&gt;Physics was pretty fun and a lot more conceptual - not quite Quantum Physics and “The Dancing Wu Li Masters”, but not Newtonian either. “Arbortrons” now make a little bit of sense to me, and the philosophical - hell, metaphysical - concepts of “what is thought” and “what is intelligence” (in a Physics lecture) were provocative. (“Thought” is making an almost connection complete, and the primary goal of “intelligence” is to collect energy). Oh, and I now have a theory (that I thought up) on why it is so hard to untangle coiled telephone cords. Mostly due to matter/anti-matter annhilation and the wave/particle nature of matter. Seriously.&lt;/p&gt;

&lt;p&gt;Phase Transitions might prove practical to my business. A phase transition is a re-organizing of energy in a system (ice melts, iron magnetizes, &amp;amp;c). Using the Ising Model, I may be able to model the “energy” of a vacation market (“rented” implies energetic, “vacant” implies non-energetic), and then use all the math to compare the energies of two different markets (e.g. Breckenridge and Santa Fe) or one market at different times (December and July). Or it might be useless. But fun to try.&lt;/p&gt;

&lt;p&gt;We also had a nice lecture on Mechanical Statistics - defined as a “branch of mathematical engineering concerned with drawing inferences from imperfect data””. “ We have one or two more to go; I’m able to follow this along OK.&lt;/p&gt;

&lt;p&gt;We spent a lot of energy this week on organizing into project teams. I’m on two of them: Analyzing arXiv publications for structures in co-authorship, citations and language usage. The first two are going to be heavy graph and time-series analysis, which I want to learn. The language area is a bunch of NLP goodness which I think I can contribute to. My other project is modelling the resilience of cities experiencing some level of disaster. This is an other graph analysis project along with agent-based modelling of the citizens as they react to the disaster. I suggested we model a “non-stationary biological event” as the disaster - you know, something like Godzilla. We’ll probably do “floods”, especially as the waters rise and an inconvenience turns into an evacuation.&lt;/p&gt;
</description>
                <link>http://schnee.github.io/2015/06/11/csss-week-one</link>
                <guid>http://schnee.github.io/2015/06/11/csss-week-one</guid>
                <pubDate>2015-06-11T21:47:40-06:00</pubDate>
        </item>

        <item>
                <title>CSSS-reception</title>
                <description>&lt;p&gt;&lt;img src=&quot;/figs/2015-06-07-csss-reception/sunset.jpg&quot; alt=&quot;awesome sunset&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Not to make anyone jealous or anything, but the above is the sunset on the lanai from where I’ll be spending the next 30 days.&lt;/p&gt;

&lt;p&gt;The reception hosted 60+ students from ALL over the world in many different disciplines: Economics, Physics, Mathematics, Engineering, Biology, &amp;amp;c. I had a great time talking to everyone. Tomorrow, at 9am, class starts.&lt;/p&gt;
</description>
                <link>http://schnee.github.io/2015/06/07/csss-reception</link>
                <guid>http://schnee.github.io/2015/06/07/csss-reception</guid>
                <pubDate>2015-06-07T22:22:07-06:00</pubDate>
        </item>

        <item>
                <title>Complex Systems Summer School</title>
                <description>&lt;p&gt;I work for a great company - hard, interesting problems; good people; good industry; good benefits. &lt;a href=&quot;http://www.homeaway.com/info/about-us&quot;&gt;HomeAway&lt;/a&gt; offers as a foundational benefit the concept of continual personal development - we have a business to run, certainly, but HomeAway has a “help them grow or watch them go” attitude which helps with both retention AND running the business better.&lt;/p&gt;

&lt;p&gt;I’m about to head off to the &lt;a href=&quot;http://www.santafe.edu/education/schools/complex-systems-summer-schools/&quot;&gt;Complex Systems Summer School&lt;/a&gt; at the &lt;a href=&quot;http://www.santafe.edu&quot;&gt;Santa Fe Institute&lt;/a&gt;. The CSSS offers “an intensive four week introduction to complex behavior in mathematical, physical, living, and social systems for graduate students and postdoctoral fellows in the sciences and social sciences.” I don’t exactly fit any of those categories, but I do have one degree in Electrical Engineering, one in Mathematics and (probably most importantly) several years of experience in the “high tech” industry.&lt;/p&gt;

&lt;p&gt;The syllabus contains:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Nonlinear Dynamics (I thru IV !)&lt;/li&gt;
  &lt;li&gt;Physics&lt;/li&gt;
  &lt;li&gt;Phase Transitions&lt;/li&gt;
  &lt;li&gt;Statistics (I and II)&lt;/li&gt;
  &lt;li&gt;Computation NP vs. P (I thru V)&lt;/li&gt;
  &lt;li&gt;Networks I thru III and Complex Networks&lt;/li&gt;
  &lt;li&gt;Limit Shapes&lt;/li&gt;
  &lt;li&gt;Complexity I thru III&lt;/li&gt;
  &lt;li&gt;Maximum Entropy: A Framework for Theory Construction with Application to Community Ecology&lt;/li&gt;
  &lt;li&gt;Boltzmann Dynamics and the Integration of Macroecology and Evolutionary History&lt;/li&gt;
  &lt;li&gt;The Rate of Aging — Theoretical and Experimental Ruminations&lt;/li&gt;
  &lt;li&gt;Economics from a physics point of view&lt;/li&gt;
  &lt;li&gt;Agent Based Modeling Flocking&lt;/li&gt;
  &lt;li&gt;and Social Minds, Emergent Epidemiology, Computational Biology, Evolution I and II, Evolutionary Game Theory and, and, and…&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Whew!&lt;/p&gt;

&lt;p&gt;I don’t know what some of those words even mean, much less the concepts behind them. But that’s OK because I’m excited to learn. I can see some practical applications to my day job (“Data Scientist”) but the most exciting part is the pure “brain stretching” that the CSSS will apply.&lt;/p&gt;

&lt;p&gt;Actually, in retrospect, meeting all these graduate students and postdoctoral fellows and industry folks like me excites me the most.&lt;/p&gt;

&lt;p&gt;Check back here on occasion - I aim to blog the experience.&lt;/p&gt;
</description>
                <link>http://schnee.github.io/2015/06/04/complex-systems-summer-school</link>
                <guid>http://schnee.github.io/2015/06/04/complex-systems-summer-school</guid>
                <pubDate>2015-06-04T08:39:00-06:00</pubDate>
        </item>

        <item>
                <title>Binning Continuous Data</title>
                <description>&lt;p&gt;Recently, I had a continuous variable that I wanted to plot and use color to show the gradient. The variable’s values were too fine for color to reveal closely spaced data. So I wanted to quantize the variable into defined bands.&lt;/p&gt;

&lt;p&gt;The data’s values were outside the (absolute) maximum of the band; I wanted to bucket anything that exceeded the band into the maximum bands. In the future, I’ll change the labels of the interval factor to indicate this.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;require(ggplot2)
require(RColorBrewer)
set.seed(1492)  #discovery!
sample = data.frame(x = c(1:20), y = 1, obs = runif(20, -150, 150))
the.breaks = seq(-100, 100, by = 20)

sample$interval = factor(findInterval(sample$obs, vec = the.breaks, all.inside = TRUE), 
    labels = the.breaks, levels = c(1:length(the.breaks)))

pal = rev(brewer.pal(11, &amp;quot;RdBu&amp;quot;))

p = ggplot(sample, aes(x, y, colour = interval))
p = p + geom_point(size = 10)
p = p + scale_colour_manual(values = pal, limits = the.breaks, labels = the.breaks)
p = p + guides(colour = guide_legend(override.aes = list(size = 3, shape = 19)))
p&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://schnee.github.com/figs/2014-03-31-binning/unnamed-chunk-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

</description>
                <link>http://schnee.github.io/2014/03/31/binning</link>
                <guid>http://schnee.github.io/2014/03/31/binning</guid>
                <pubDate>2014-03-31T00:00:00-06:00</pubDate>
        </item>

        <item>
                <title>SuperPAC Spending Orientation by State</title>
                <description>&lt;p&gt;A &lt;a href=&quot;/2014/02/11/superpac-receipts/&quot;&gt;prior entry&lt;/a&gt; looked at Super PAC receipts for the 2011-2012 election cycle and showed a bit of R code. Here, we use the &lt;a href=&quot;http://reporting.sunlightfoundation.com/outside-spending-2012/file-downloads/&quot;&gt;same data&lt;/a&gt; and break it down by supporting and opposing spending by state.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Technical note: I took this opportunity to start exploring the &lt;a href=&quot;http://cran.r-project.org/web/packages/dplyr/index.html&quot;&gt;dplyr&lt;/a&gt; R package. I think I like it.&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;suppressPackageStartupMessages(require(ggplot2))
suppressPackageStartupMessages(require(dplyr))
suppressPackageStartupMessages(require(maps))
suppressPackageStartupMessages(require(grid))
suppressPackageStartupMessages(require(mapproj))
suppressPackageStartupMessages(require(scales))

pac &amp;lt;- read.csv(&amp;quot;./committee_summary.csv&amp;quot;, header = TRUE)

superpac.spend = pac %.% group_by(state) %.% summarise(or = sum(IEs.oppose.reps), 
    od = sum(IEs.oppose.dems), sr = sum(IEs.support.reps), sd = sum(IEs.support.dems)) %.% 
    arrange(state)

states_map &amp;lt;- map_data(&amp;quot;state&amp;quot;)

superpac.spend$statelc &amp;lt;- tolower(state.name[match(superpac.spend$state, state.abb)])

superpac.spend$statelc[9] &amp;lt;- &amp;quot;district of columbia&amp;quot;

superpac.spend$support &amp;lt;- (superpac.spend$sr - superpac.spend$sd)/(superpac.spend$sd + 
    superpac.spend$sr)
superpac.spend$oppose &amp;lt;- (superpac.spend$or - superpac.spend$od)/(superpac.spend$od + 
    superpac.spend$or)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;At this point, superpac.spend is a nice little table&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;suppressMessages(head(tbl_dt(superpac.spend)))&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   state      or      od      sr      sd    statelc support  oppose
## 1             0       0       0       0       &amp;lt;NA&amp;gt;     NaN     NaN
## 2    AK       0       0       0       0     alaska     NaN     NaN
## 3    AL       0       0       0       0    alabama     NaN     NaN
## 4    AR       0       0       0       0   arkansas     NaN     NaN
## 5    AZ       0  182040  301577       0    arizona 1.00000 -1.0000
## 6    CA 2569098 2022101 3164335 2792334 california 0.06245  0.1191&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;“Support” measures the fraction (from -1 to 1) of spending in support of a political orientation. Full Republican support is “1”; full Democratic support is “-1”. Likewise, “oppose” is the fraction of spending is opposition to a political orientation. Complete Republican opposition is “1”; complete Democratic opposition is “-1”. In the above table, you can see that Super PACs registered in Arizona completely supported Republican causes and completely opposed Democratic ones.&lt;/p&gt;

&lt;p&gt;We went to all the trouble of getting the state names (statelc). Let’s use it to plot:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;clean_theme &amp;lt;- theme(axis.title = element_blank(), axis.text = element_blank(), 
    panel.background = element_blank(), panel.grid = element_blank(), axis.ticks.length = unit(0, 
        &amp;quot;cm&amp;quot;), complete = TRUE)

ggplot(superpac.spend, aes(map_id = statelc, fill = support)) + geom_map(map = states_map) + 
    expand_limits(x = states_map$long, y = states_map$lat) + coord_map(&amp;quot;polyconic&amp;quot;) + 
    scale_fill_gradient2(high = muted(&amp;quot;red&amp;quot;), low = muted(&amp;quot;blue&amp;quot;), mid = &amp;quot;white&amp;quot;, 
        labels = c(&amp;quot;Democratic&amp;quot;, &amp;quot;Mostly Democratic&amp;quot;, &amp;quot;Even&amp;quot;, &amp;quot;Mostly Republican&amp;quot;, 
            &amp;quot;Republican&amp;quot;)) + labs(fill = &amp;quot;Supporting\nOrientation&amp;quot;) + ggtitle(&amp;quot;Statewise Spending Orientation\n2011-2012 Election Cycle\n[Supporting]&amp;quot;) + 
    clean_theme&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://schnee.github.com/figs/2014-02-16-orientation/unnamed-chunk-3.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;ggplot(superpac.spend, aes(map_id = statelc, fill = oppose)) + geom_map(map = states_map) + 
    expand_limits(x = states_map$long, y = states_map$lat) + coord_map(&amp;quot;polyconic&amp;quot;) + 
    scale_fill_gradient2(high = muted(&amp;quot;red&amp;quot;), low = muted(&amp;quot;blue&amp;quot;), mid = &amp;quot;white&amp;quot;, 
        labels = c(&amp;quot;Democratic&amp;quot;, &amp;quot;Mostly Democratic&amp;quot;, &amp;quot;Even&amp;quot;, &amp;quot;Mostly Republican&amp;quot;, 
            &amp;quot;Republican&amp;quot;)) + labs(fill = &amp;quot;Opposing\nOrientation&amp;quot;) + ggtitle(&amp;quot;Statewise Spending Orientation\n2011-2012 Election Cycle\n[Opposing]&amp;quot;) + 
    clean_theme&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://schnee.github.com/figs/2014-02-16-orientation/unnamed-chunk-4.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Examining the graphs, the battleground state of Ohio spent on both supporting Republican causes and opposing democratic causes. As did Arizona and Florida (and others). Texas had a large spend supporting Republicans and an even larger spend opposing Republicans. Montana was neutral on supporting, but very strong on opposing Democratic causes and people. I’m told that it was a pretty nasty area for negative campaigning, and &lt;a href=&quot;http://www.pbs.org/wgbh/pages/frontline/big-sky-big-money/&quot;&gt;PBS&lt;/a&gt; even did a documentary on it.&lt;/p&gt;

&lt;p&gt;Fun analysis, and maybe something that can be spun into the Sunlight Foundations &lt;a href=&quot;http://sunlightfoundation.com/blog/2014/02/06/codeacross-is-here/&quot;&gt;CodeAcross&lt;/a&gt; effort.&lt;/p&gt;
</description>
                <link>http://schnee.github.io/2014/02/16/orientation</link>
                <guid>http://schnee.github.io/2014/02/16/orientation</guid>
                <pubDate>2014-02-16T00:00:00-07:00</pubDate>
        </item>

        <item>
                <title>SuperPAC Receipts by State</title>
                <description>&lt;p&gt;A colleague exposed me to the &lt;a href=&quot;http://cran.r-project.org&quot;&gt;R&lt;/a&gt; enviroment. It smoted me and I looked for non-work datasets. I found &lt;a href=&quot;http://sunlightfoundation.com/&quot;&gt;The Sunlight Foundation&lt;/a&gt; and started digging through their data, and I found their reports on &lt;a href=&quot;http://reporting.sunlightfoundation.com/outside-spending-2012/super-pacs/&quot;&gt;Super PAC spending&lt;/a&gt;. I downloaded the &lt;a href=&quot;http://reporting.sunlightfoundation.com/outside-spending-2012/file-downloads/&quot;&gt;Super PAC Summary&lt;/a&gt; data and broke out R.&lt;/p&gt;

&lt;p&gt;I wanted to break out the Independent Expenditures by State, and map them. I read in the data and tidied it up a bit.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;suppressPackageStartupMessages(require(mapproj))
suppressPackageStartupMessages(require(ggplot2))
suppressPackageStartupMessages(require(grid))
suppressPackageStartupMessages(library(maps))
suppressPackageStartupMessages(require(plyr))

pac &amp;lt;- read.csv(&amp;quot;./committee_summary.csv&amp;quot;, header = TRUE)

names(pac)[12] &amp;lt;- &amp;quot;receipts&amp;quot;
str(pac)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## &amp;#39;data.frame&amp;#39;:	1027 obs. of  20 variables:
##  $ Name                          : Factor w/ 1025 levels &amp;quot;1911 UNITED&amp;quot;,..: 782 56 681 525 428 380 997 210 815 334 ...
##  $ Committee.ID                  : Factor w/ 1027 levels &amp;quot;C00235929&amp;quot;,&amp;quot;C00363390&amp;quot;,..: 62 30 100 23 98 120 175 31 534 60 ...
##  $ Treasurer                     : Factor w/ 449 levels &amp;quot;&amp;quot;,&amp;quot;AARON NOSBISCH&amp;quot;,..: 397 89 395 250 60 374 49 71 128 437 ...
##  $ Street_1                      : Factor w/ 450 levels &amp;quot;&amp;quot;,&amp;quot;1 PENN PLAZA&amp;quot;,..: 258 73 28 283 282 214 143 131 113 264 ...
##  $ Street_2                      : Factor w/ 40 levels &amp;quot;&amp;quot;,&amp;quot;#211&amp;quot;,&amp;quot;148 NASSAU AVE UPPER&amp;quot;,..: 26 29 18 38 1 1 1 1 1 1 ...
##  $ City                          : Factor w/ 241 levels &amp;quot;&amp;quot;,&amp;quot;AKRON&amp;quot;,&amp;quot;ALBANY&amp;quot;,..: 228 228 228 228 228 228 113 228 228 214 ...
##  $ ZIP.code                      : int  20004 20005 20005 20005 20005 20001 30043 20036 20036 33606 ...
##  $ state                         : Factor w/ 51 levels &amp;quot;&amp;quot;,&amp;quot;AK&amp;quot;,&amp;quot;AL&amp;quot;,&amp;quot;AR&amp;quot;,..: 9 9 9 9 9 9 12 9 9 11 ...
##  $ Connected.Org.Name            : Factor w/ 28 levels &amp;quot;&amp;quot;,&amp;quot;9-9-9 FUND&amp;quot;,..: 1 16 28 16 16 1 1 1 22 1 ...
##  $ Political.Orientation         : Factor w/ 3 levels &amp;quot;Backs Democrats&amp;quot;,..: 2 2 1 1 1 2 2 2 1 2 ...
##  $ Filing.frequency              : Factor w/ 3 levels &amp;quot;Monthly&amp;quot;,&amp;quot;Quarterly&amp;quot;,..: 1 1 1 2 2 1 1 1 2 1 ...
##  $ receipts                      : num  1.32e+08 8.01e+07 6.39e+07 3.49e+07 2.77e+07 ...
##  $ Total.unitemized.contributions: num  298 188926 279650 43230 243088 ...
##  $ cash.on.hand                  : num  24203768 6423726 10086434 7461199 5196881 ...
##  $ last.report.date              : Factor w/ 29 levels &amp;quot;&amp;quot;,&amp;quot;10/11/12&amp;quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
##  $ total.IEs                     : num  1.43e+08 1.05e+08 6.62e+07 3.75e+07 3.08e+07 ...
##  $ IEs.support.dems              : num  0 0 0 3609417 865049 ...
##  $ IEs.oppose.dems               : num  88572359 95858190 0 0 0 ...
##  $ IEs.support.reps              : num  14090892 8477066 0 0 0 ...
##  $ IEs.oppose.reps               : num  39992095 375217 66182181 33868125 29709982 ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;PAC is a data frame with many columns. For this purpose, I’m interested in the receipts and the state identifiers.&lt;/p&gt;

&lt;p&gt;I needed to summarize the receipts and ensure that the states matched the codes from the states_map object. And then I had to override the “district of columbia”. At that point, I could plot out a quick view.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;pdata &amp;lt;- ddply(pac, &amp;quot;state&amp;quot;, summarize, Sum = sum(receipts, na.rm = TRUE))

states_map &amp;lt;- map_data(&amp;quot;state&amp;quot;)

pdata$statelc &amp;lt;- tolower(state.name[match(pdata$state, state.abb)])

pdata$statelc[9] &amp;lt;- &amp;quot;district of columbia&amp;quot;

ggplot(data = pdata, aes(x = state, y = Sum)) + geom_bar(width = 1, stat = &amp;quot;identity&amp;quot;) + 
    theme(legend.position = &amp;quot;none&amp;quot;) + labs(x = &amp;quot;State&amp;quot;, y = &amp;quot;Receipts&amp;quot;) + ggtitle(&amp;quot;SuperPAC Receipts by State Comparison&amp;quot;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://schnee.github.com/figs/2014-02-11-superpac-receipts/unnamed-chunk-2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Unsuprisingly, most SuperPAC money flows to PACs headquartered in Washington, DC. So much money that DC will dominate subsequent plots; I decided to get rid of DC.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;pdata.noDC = subset(pdata, state != &amp;quot;DC&amp;quot;)

ggplot(pdata.noDC, aes(x = state, y = Sum)) + geom_bar(width = 1, stat = &amp;quot;identity&amp;quot;) + 
    theme(legend.position = &amp;quot;none&amp;quot;) + labs(x = &amp;quot;State&amp;quot;, y = &amp;quot;Receipts&amp;quot;) + ggtitle(&amp;quot;SuperPAC Receipts by State Comparison\nDC omitted&amp;quot;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://schnee.github.com/figs/2014-02-11-superpac-receipts/unnamed-chunk-3.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Much better.&lt;/p&gt;

&lt;p&gt;A quick coloring of the states with a gradient showed&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;ggplot(pdata.noDC, aes(map_id = statelc, fill = Sum)) + geom_map(map = states_map) + 
    expand_limits(x = states_map$long, y = states_map$lat) + coord_map(&amp;quot;polyconic&amp;quot;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://schnee.github.com/figs/2014-02-11-superpac-receipts/unnamed-chunk-4.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;that the gradient treatment doesn’t really help distinguish between different levels: is Washington more or less than Oregon? But note that Nebraska isn’t participating in Super PAC spending at all.&lt;/p&gt;

&lt;p&gt;Quantization provided a better view.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;qs = quantile(pdata.noDC$Sum, c(0, 0.2, 0.4, 0.6, 0.8, 1))
qsf = sprintf(&amp;quot;$%.2f&amp;quot;, qs)
qlabels = paste(head(qsf, -1), tail(qsf, -1), sep = &amp;quot; - &amp;quot;)

pdata.noDC$Sum_q &amp;lt;- cut(pdata.noDC$Sum, qs, labels = qlabels, include.lowest = TRUE)

pal &amp;lt;- colorRampPalette(c(&amp;quot;grey80&amp;quot;, &amp;quot;darkgreen&amp;quot;))(5)

clean_theme &amp;lt;- theme(axis.title = element_blank(), axis.text = element_blank(), 
    panel.background = element_blank(), panel.grid = element_blank(), axis.ticks.length = unit(0, 
        &amp;quot;cm&amp;quot;), complete = TRUE)

ggplot(pdata.noDC, aes(map_id = statelc, fill = Sum_q)) + geom_map(map = states_map, 
    colour = &amp;quot;black&amp;quot;) + scale_fill_manual(values = pal) + expand_limits(x = states_map$long, 
    y = states_map$lat) + coord_map(&amp;quot;polyconic&amp;quot;) + labs(fill = &amp;quot;Receipts&amp;quot;, x = &amp;quot;Longitude&amp;quot;, 
    y = &amp;quot;Latitude&amp;quot;) + ggtitle(&amp;quot;SuperPAC Receipts by State\nof Registration\nDC Omitted&amp;quot;) + 
    clean_theme&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://schnee.github.com/figs/2014-02-11-superpac-receipts/unnamed-chunk-5.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now, we can see that Super PACs in Oregon take in fewer receipts than those in Washington.&lt;/p&gt;

&lt;p&gt;This was a quick way to take state-coded data and present it graphically. I would have been “done”, except that I noticed that the data has columns such as “IEs.support.dems” and “IEs.support.reps”. Sunlight &lt;a href=&quot;http://reporting.sunlightfoundation.com/super-pac/data/about/2012-june-update/&quot;&gt;tells&lt;/a&gt; me that this spending is either positive (support) or negative (oppose). Doing something with that information seemed interesting, and is covered in the next post.&lt;/p&gt;
</description>
                <link>http://schnee.github.io/2014/02/11/superpac-receipts</link>
                <guid>http://schnee.github.io/2014/02/11/superpac-receipts</guid>
                <pubDate>2014-02-11T00:00:00-07:00</pubDate>
        </item>


</channel>
</rss>
